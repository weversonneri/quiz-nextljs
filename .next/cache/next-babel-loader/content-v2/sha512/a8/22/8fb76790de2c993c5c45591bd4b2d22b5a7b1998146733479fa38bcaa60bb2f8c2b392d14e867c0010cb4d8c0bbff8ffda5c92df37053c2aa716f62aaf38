{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/weverson/Temp/Workspaces/imersao-react-alura/learnquiz/src/screens/Quiz/index.js\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { motion } from \"framer-motion\"; // import db from '../../../db.json';\n\nimport Widget from '../../components/Widget';\nimport QuizLogo from '../../components/QuizLogo';\nimport QuizBackground from '../../components/QuizBackground';\nimport QuizContainer from '../../components/QuizContainer';\nimport AlternativesForm from '../../components/AlternativesForm';\nimport Button from '../../components/Button';\nimport BackLinkArrow from '../../components/BackLinkArrow';\nimport { useRouter } from 'next/router';\nimport GitHubCorner from '../../components/GitHubCorner';\nimport Link from '../../components/Link';\nimport Lottie from 'react-lottie';\nimport loadingAnimation from './loadingAnim.json';\n\nvar QuizUserName = function QuizUserName() {\n  _s();\n\n  var _useRouter = useRouter(),\n      name = _useRouter.query.name;\n\n  return __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 10\n    }\n  }, \"Este \\xE9 seu resultado final \", name);\n}; //FUNCIONA MAS AINDA NÃO SEI SE É UMA BOA PRATICA\n\n\n_s(QuizUserName, \"5maMmNWPMTB7P6OcxytbSlIph6Y=\", false, function () {\n  return [useRouter];\n});\n\n_c = QuizUserName;\nexport var HandleClickHome = function HandleClickHome(event) {\n  _s2();\n\n  var router = useRouter();\n  event.preventDefault;\n  return __jsx(Button, {\n    as: motion.button,\n    whileHover: {\n      scale: 1.05\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    onClick: function onClick() {\n      return router.push('/');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 10\n    }\n  }, \"Responder Novamente\");\n};\n\n_s2(HandleClickHome, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c2 = HandleClickHome;\n\nfunction ResultWidget(_ref) {\n  var _this2 = this;\n\n  var results = _ref.results,\n      totalQuestions = _ref.totalQuestions;\n  return __jsx(Widget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, __jsx(Widget.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, __jsx(QuizUserName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })), __jsx(Widget.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Voc\\xEA acertou\\n            \".concat(results.reduce(function (somatoriaAtual, resultadoAtual) {\n    var isAcerto = resultadoAtual === true;\n\n    if (isAcerto) {\n      return somatoriaAtual + 1;\n    }\n\n    return somatoriaAtual;\n  }, 0)), ' ', \"de \", totalQuestions, \" perguntas\"), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, results.map(function (result, index) {\n    return __jsx(\"li\", {\n      key: \"result__\".concat(result),\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, \"#\", index + 1, \" Resultado: \", result == true ? 'Acertou ' : 'Errou');\n  })), __jsx(HandleClickHome, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  })));\n}\n\n_c3 = ResultWidget;\n\nfunction LoadingWidget() {\n  return __jsx(Widget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, __jsx(Widget.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"Carregando...\"), __jsx(Widget.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(Lottie, {\n    width: \"200px\",\n    height: \"200px\",\n    className: \"lottie-container basic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  })));\n}\n\n_c4 = LoadingWidget;\n\nfunction QuestionWidget(_ref2) {\n  _s3();\n\n  var _this3 = this;\n\n  var question = _ref2.question,\n      questionIndex = _ref2.questionIndex,\n      totalQuestions = _ref2.totalQuestions,\n      _onSubmit = _ref2.onSubmit,\n      addResult = _ref2.addResult;\n\n  var _React$useState = React.useState(undefined),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      selectedAlternative = _React$useState2[0],\n      setSelectedAlternative = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isQuestionSubmited = _React$useState4[0],\n      setIsQuestionSubmited = _React$useState4[1];\n\n  var questionId = \"question__\".concat(questionIndex);\n  var isCorrect = selectedAlternative === question.answer;\n  var hasAlternativeSelected = selectedAlternative !== undefined;\n  return __jsx(Widget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, __jsx(Widget.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, __jsx(BackLinkArrow, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"Pergunta \".concat(questionIndex + 1, \" de \").concat(totalQuestions))), __jsx(\"img\", {\n    alt: \"Descri\\xE7\\xE3o\",\n    style: {\n      width: '100%',\n      height: '190px',\n      objectFit: 'cover'\n    },\n    src: question.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }), __jsx(Widget.Content, {\n    as: motion.div,\n    transition: {\n      delay: 0,\n      duration: 0.5\n    },\n    variants: {\n      show: {\n        opacity: 1,\n        y: '0'\n      },\n      hidden: {\n        opacity: 0,\n        y: '100%'\n      }\n    },\n    initial: \"hidden\",\n    animate: \"show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, question.title), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, question.description), __jsx(AlternativesForm, {\n    onSubmit: function onSubmit(infosDoEvento) {\n      infosDoEvento.preventDefault();\n      setIsQuestionSubmited(true);\n      setTimeout(function () {\n        addResult(isCorrect);\n\n        _onSubmit();\n\n        setIsQuestionSubmited(false);\n        setSelectedAlternative(undefined);\n      }, 3 * 1000);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, question.alternatives.map(function (alternative, alternativeIndex) {\n    var alternativeId = \"alternative__\".concat(alternativeIndex);\n    var alternativeStatus = isCorrect ? 'SUCCESS' : 'ERROR';\n    var isSelected = selectedAlternative === alternativeIndex;\n    return __jsx(Widget.Topic, {\n      as: \"label\",\n      key: alternativeId,\n      htmlFor: alternativeId,\n      \"data-selected\": isSelected,\n      \"data-status\": isQuestionSubmited && alternativeStatus,\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, __jsx(\"input\", {\n      style: {\n        display: 'none'\n      },\n      id: alternativeId,\n      name: questionId,\n      onChange: function onChange() {\n        return setSelectedAlternative(alternativeIndex);\n      },\n      type: \"radio\",\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }), alternative);\n  }), __jsx(Button, {\n    type: \"submit\",\n    disabled: !hasAlternativeSelected,\n    as: motion.button,\n    whileHover: {\n      scale: 1.05\n    },\n    whileTap: {\n      scale: 0.9\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, \"Confirmar\"), isQuestionSubmited && isCorrect && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 47\n    }\n  }, \"You're goddamn right!\"), isQuestionSubmited && !isCorrect && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 48\n    }\n  }, \"Fail!\"))));\n}\n\n_s3(QuestionWidget, \"gOPL1EmksK8wUP52KQZyVU1FVK0=\");\n\n_c5 = QuestionWidget;\nvar screenStates = {\n  QUIZ: 'QUIZ',\n  LOADING: 'LOADING',\n  RESULT: 'RESULT'\n};\nexport default function QuizPage(_ref3) {\n  _s4();\n\n  var externalQuestions = _ref3.externalQuestions,\n      externalBg = _ref3.externalBg;\n\n  var _React$useState5 = React.useState(screenStates.LOADING),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      screenState = _React$useState6[0],\n      setScreenState = _React$useState6[1];\n\n  var _React$useState7 = React.useState([]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      results = _React$useState8[0],\n      setResults = _React$useState8[1];\n\n  var _React$useState9 = React.useState(0),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      currentQuestion = _React$useState10[0],\n      setCurrentQuestion = _React$useState10[1];\n\n  var questionIndex = currentQuestion;\n  var question = externalQuestions[questionIndex];\n  var totalQuestions = externalQuestions.length;\n  var bg = externalBg;\n\n  function addResult(result) {\n    // results.push(result);\n    setResults([].concat(_toConsumableArray(results), [result]));\n  } // [React chama de: Efeitos || Effects]\n  // React.useEffect\n  // atualizado === willUpdate\n  // morre === willUnmount\n\n\n  React.useEffect(function () {\n    // fetch() ...\n    setTimeout(function () {\n      setScreenState(screenStates.QUIZ);\n    }, 1 * 2000); // nasce === didMount\n  }, []);\n\n  function handleSubmitQuiz() {\n    var nextQuestion = questionIndex + 1;\n\n    if (nextQuestion < totalQuestions) {\n      setCurrentQuestion(nextQuestion);\n    } else {\n      setScreenState(screenStates.RESULT);\n    }\n  }\n\n  return __jsx(QuizBackground, {\n    backgroundImage: bg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 5\n    }\n  }, __jsx(QuizContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }, __jsx(QuizLogo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }), screenState === screenStates.QUIZ && __jsx(QuestionWidget, {\n    question: question,\n    questionIndex: questionIndex,\n    totalQuestions: totalQuestions,\n    onSubmit: handleSubmitQuiz,\n    addResult: addResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }), screenState === screenStates.LOADING && __jsx(LoadingWidget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 50\n    }\n  }), screenState === screenStates.RESULT && __jsx(ResultWidget, {\n    results: results,\n    totalQuestions: totalQuestions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 49\n    }\n  })), __jsx(GitHubCorner, {\n    projectUrl: \"https://github.com/weversonneri/quiz-nextljs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s4(QuizPage, \"op6a2G6WeNFK4t0JnGKr98IrMhU=\");\n\n_c6 = QuizPage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"QuizUserName\");\n$RefreshReg$(_c2, \"HandleClickHome\");\n$RefreshReg$(_c3, \"ResultWidget\");\n$RefreshReg$(_c4, \"LoadingWidget\");\n$RefreshReg$(_c5, \"QuestionWidget\");\n$RefreshReg$(_c6, \"QuizPage\");","map":{"version":3,"sources":["/home/weverson/Temp/Workspaces/imersao-react-alura/learnquiz/src/screens/Quiz/index.js"],"names":["React","motion","Widget","QuizLogo","QuizBackground","QuizContainer","AlternativesForm","Button","BackLinkArrow","useRouter","GitHubCorner","Link","Lottie","loadingAnimation","QuizUserName","name","query","HandleClickHome","event","router","preventDefault","button","scale","push","ResultWidget","results","totalQuestions","reduce","somatoriaAtual","resultadoAtual","isAcerto","map","result","index","LoadingWidget","QuestionWidget","question","questionIndex","onSubmit","addResult","useState","undefined","selectedAlternative","setSelectedAlternative","isQuestionSubmited","setIsQuestionSubmited","questionId","isCorrect","answer","hasAlternativeSelected","width","height","objectFit","image","div","delay","duration","show","opacity","y","hidden","title","description","infosDoEvento","setTimeout","alternatives","alternative","alternativeIndex","alternativeId","alternativeStatus","isSelected","display","screenStates","QUIZ","LOADING","RESULT","QuizPage","externalQuestions","externalBg","screenState","setScreenState","setResults","currentQuestion","setCurrentQuestion","length","bg","useEffect","handleSubmitQuiz","nextQuestion"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { motion } from \"framer-motion\";\n// import db from '../../../db.json';\nimport Widget from '../../components/Widget';\nimport QuizLogo from '../../components/QuizLogo';\nimport QuizBackground from '../../components/QuizBackground';\nimport QuizContainer from '../../components/QuizContainer';\nimport AlternativesForm from '../../components/AlternativesForm';\nimport Button from '../../components/Button';\nimport BackLinkArrow from '../../components/BackLinkArrow';\nimport { useRouter } from 'next/router';\nimport GitHubCorner from '../../components/GitHubCorner';\nimport Link from '../../components/Link';\nimport Lottie from 'react-lottie';\nimport loadingAnimation from './loadingAnim.json';\n\n\n\nconst QuizUserName = () => {\n  const {\n    query: { name },\n  } = useRouter();\n\n  return <span>Este é seu resultado final {name}</span>\n}\n\n//FUNCIONA MAS AINDA NÃO SEI SE É UMA BOA PRATICA\nexport const HandleClickHome = (event) => {\n  const router = useRouter();\n  event.preventDefault;\n\n  return <Button as={motion.button}\n    whileHover={{ scale: 1.05 }}\n    whileTap={{ scale: 0.9 }}\n    onClick={() => router.push('/')}>Responder Novamente\n    </Button>\n}\n\nfunction ResultWidget({ results, totalQuestions }) {\n  return (\n    <Widget>\n      <Widget.Header>\n        <QuizUserName />\n      </Widget.Header>\n\n      <Widget.Content>\n        <p>\n          {`Você acertou\n            ${results.reduce((somatoriaAtual, resultadoAtual) => {\n            const isAcerto = resultadoAtual === true;\n            if (isAcerto) {\n              return somatoriaAtual + 1;\n            }\n            return somatoriaAtual;\n\n          }, 0)}`}\n\n          {/*results.filter((x) => x).length*/}\n          {' '}\n           de {totalQuestions} perguntas\n\n        </p>\n        <ul>\n          {results.map((result, index) => (\n            <li key={`result__${result}`}>\n              #{index + 1} Resultado: {result == true ? 'Acertou ' : 'Errou'}\n            </li>\n          ))}\n        </ul>\n        <HandleClickHome />\n\n        {//<Button\n         // /*display=\"no\"\n         // as={Link}\n        //  href={\"/\"}*/>\n        //  Jogar Novamente\n\n       /* </Button>*/}\n      </Widget.Content>\n    </Widget>\n  );\n}\n\nfunction LoadingWidget() {\n  return (\n\n    <Widget>\n      <Widget.Header>\n        Carregando...\n      </Widget.Header>\n\n      <Widget.Content >\n        <Lottie\n          width=\"200px\"\n          height=\"200px\"\n          className=\"lottie-container basic\"\n        />\n      </Widget.Content>\n    </Widget>\n  );\n}\n\nfunction QuestionWidget({\n  question,\n  questionIndex,\n  totalQuestions,\n  onSubmit,\n  addResult,\n}) {\n  const [selectedAlternative, setSelectedAlternative] = React.useState(undefined);\n  const [isQuestionSubmited, setIsQuestionSubmited] = React.useState(false);\n  const questionId = `question__${questionIndex}`;\n  const isCorrect = selectedAlternative === question.answer;\n  const hasAlternativeSelected = selectedAlternative !== undefined;\n\n  return (\n    <Widget>\n      <Widget.Header>\n        <BackLinkArrow href=\"/\" />\n        <h3>\n          {`Pergunta ${questionIndex + 1} de ${totalQuestions}`}\n        </h3>\n      </Widget.Header>\n\n      <img\n        alt=\"Descrição\"\n        style={{\n          width: '100%',\n          height: '190px',\n          objectFit: 'cover',\n        }}\n        src={question.image}\n      />\n      <Widget.Content\n        as={motion.div}\n        transition={{ delay: 0, duration: 0.5 }}\n        variants={{\n          show: { opacity: 1, y: '0' },\n          hidden: { opacity: 0, y: '100%' },\n        }}\n        initial=\"hidden\"\n        animate=\"show\"\n      >\n        <h2>\n          {question.title}\n        </h2>\n        <p>\n          {question.description}\n        </p>\n\n        <AlternativesForm\n          onSubmit={(infosDoEvento) => {\n            infosDoEvento.preventDefault();\n            setIsQuestionSubmited(true);\n            setTimeout(() => {\n              addResult(isCorrect);\n              onSubmit();\n              setIsQuestionSubmited(false);\n              setSelectedAlternative(undefined);\n            }, 3 * 1000);\n          }}\n        >\n          {question.alternatives.map((alternative, alternativeIndex) => {\n            const alternativeId = `alternative__${alternativeIndex}`;\n            const alternativeStatus = isCorrect ? 'SUCCESS' : 'ERROR';\n            const isSelected = selectedAlternative === alternativeIndex;\n            return (\n              <Widget.Topic\n                as=\"label\"\n                key={alternativeId}\n                htmlFor={alternativeId}\n                data-selected={isSelected}\n                data-status={isQuestionSubmited && alternativeStatus}\n              >\n                <input\n                  style={{ display: 'none' }}\n                  id={alternativeId}\n                  name={questionId}\n                  onChange={() => setSelectedAlternative(alternativeIndex)}\n                  type=\"radio\"\n                />\n                {alternative}\n              </Widget.Topic>\n            );\n          })}\n\n          {/* <pre>\n            {JSON.stringify(question, null, 4)}\n          </pre> */}\n          <Button\n            type=\"submit\"\n            disabled={!hasAlternativeSelected}\n            as={motion.button}\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.9 }}>\n            Confirmar\n          </Button>\n          {isQuestionSubmited && isCorrect && <p>You're goddamn right!</p>}\n          {isQuestionSubmited && !isCorrect && <p>Fail!</p>}\n        </AlternativesForm>\n      </Widget.Content>\n    </Widget>\n  );\n}\n\nconst screenStates = {\n  QUIZ: 'QUIZ',\n  LOADING: 'LOADING',\n  RESULT: 'RESULT',\n};\nexport default function QuizPage({ externalQuestions, externalBg }) {\n  const [screenState, setScreenState] = React.useState(screenStates.LOADING);\n  const [results, setResults] = React.useState([]);\n  const [currentQuestion, setCurrentQuestion] = React.useState(0);\n  const questionIndex = currentQuestion;\n  const question = externalQuestions[questionIndex];\n  const totalQuestions = externalQuestions.length;\n  const bg = externalBg;\n\n  function addResult(result) {\n    // results.push(result);\n    setResults([\n      ...results,\n      result,\n    ]);\n  }\n\n  // [React chama de: Efeitos || Effects]\n  // React.useEffect\n  // atualizado === willUpdate\n  // morre === willUnmount\n  React.useEffect(() => {\n    // fetch() ...\n    setTimeout(() => {\n      setScreenState(screenStates.QUIZ);\n    }, 1 * 2000);\n    // nasce === didMount\n  }, []);\n\n  function handleSubmitQuiz() {\n    const nextQuestion = questionIndex + 1;\n    if (nextQuestion < totalQuestions) {\n      setCurrentQuestion(nextQuestion);\n    } else {\n      setScreenState(screenStates.RESULT);\n    }\n  }\n\n  return (\n    <QuizBackground backgroundImage={bg}>\n      <QuizContainer>\n        <QuizLogo />\n        {screenState === screenStates.QUIZ && (\n          <QuestionWidget\n            question={question}\n            questionIndex={questionIndex}\n            totalQuestions={totalQuestions}\n            onSubmit={handleSubmitQuiz}\n            addResult={addResult}\n          />\n        )}\n\n        {screenState === screenStates.LOADING && <LoadingWidget />}\n\n        {screenState === screenStates.RESULT && <ResultWidget results={results} totalQuestions={totalQuestions} />}\n      </QuizContainer>\n      <GitHubCorner projectUrl=\"https://github.com/weversonneri/quiz-nextljs\" />\n    </QuizBackground>\n  );\n}"]},"metadata":{},"sourceType":"module"}